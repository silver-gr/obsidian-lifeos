/* ============================================
   ILMA Dashboard Styles
   Integrated Life Management Architecture
   ============================================ */

/* -------------------------
   Multi-Column Dashboard Layout
   ------------------------- */
.dashboard .markdown-preview-view {
  max-width: 1400px;
  margin: 0 auto;
}

/* Two-column layout for tables */
.dashboard table {
  width: 100%;
  margin-bottom: 1.5em;
}

/* -------------------------
   Progress Bars
   ------------------------- */
progress {
  width: 100%;
  height: 18px;
  border-radius: 9px;
  overflow: hidden;
  background: var(--background-modifier-border);
  border: none;
}

progress::-webkit-progress-bar {
  background: var(--background-modifier-border);
  border-radius: 9px;
}

progress::-webkit-progress-value {
  background: linear-gradient(90deg, #4caf50, #8bc34a);
  border-radius: 9px;
  transition: width 0.3s ease;
}

progress::-moz-progress-bar {
  background: linear-gradient(90deg, #4caf50, #8bc34a);
  border-radius: 9px;
}

/* Small progress bars in tables */
td progress {
  width: 80px;
  height: 12px;
}

/* -------------------------
   Task Priority Colors
   ------------------------- */
.task-list-item[data-task="!"],
.task-list-item-checkbox[data-task="!"] {
  border-color: #f44336 !important;
}

/* High priority indicator */
.tasks-list-text:has([data-task-priority="high"]) {
  border-left: 3px solid #f44336;
  padding-left: 8px;
}

/* Medium priority */
.tasks-list-text:has([data-task-priority="medium"]) {
  border-left: 3px solid #ff9800;
  padding-left: 8px;
}

/* Low priority */
.tasks-list-text:has([data-task-priority="low"]) {
  border-left: 3px solid #2196f3;
  padding-left: 8px;
}

/* -------------------------
   Habit Toggle Styling
   ------------------------- */
.meta-bind-plugin-input-wrapper {
  display: inline-flex;
  align-items: center;
}

/* Toggle switches */
.meta-bind-plugin-toggle {
  --toggle-width: 40px;
  --toggle-height: 22px;
}

/* -------------------------
   Dashboard Cards
   ------------------------- */
.dashboard h2 {
  border-bottom: 2px solid var(--interactive-accent);
  padding-bottom: 0.5em;
  margin-top: 1.5em;
}

.dashboard h3 {
  color: var(--text-muted);
  font-size: 0.95em;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* -------------------------
   Dataview Tables
   ------------------------- */
.dashboard .dataview.table-view-table {
  font-size: 0.9em;
}

.dashboard .dataview.table-view-table th {
  background: var(--background-secondary);
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.8em;
  letter-spacing: 0.03em;
}

.dashboard .dataview.table-view-table tr:hover {
  background: var(--background-modifier-hover);
}

/* -------------------------
   Quick Navigation Grid
   ------------------------- */
.dashboard table:first-of-type {
  border-collapse: separate;
  border-spacing: 8px;
}

.dashboard table:first-of-type td {
  background: var(--background-secondary);
  padding: 12px 16px;
  border-radius: 8px;
  text-align: center;
  transition: background 0.2s ease;
}

.dashboard table:first-of-type td:hover {
  background: var(--background-modifier-hover);
}

/* -------------------------
   Status Indicators
   ------------------------- */
/* Active status */
[data-value="active"],
[data-value="in-progress"] {
  color: #4caf50;
}

/* Completed status */
[data-value="completed"],
[data-value="done"] {
  color: #9e9e9e;
  text-decoration: line-through;
}

/* On-hold status */
[data-value="on-hold"],
[data-value="planning"] {
  color: #ff9800;
}

/* -------------------------
   Responsive Design
   ------------------------- */
@media (max-width: 768px) {
  .dashboard .markdown-preview-view {
    padding: 10px;
  }

  .dashboard table:first-of-type td {
    display: block;
    margin-bottom: 8px;
  }

  progress {
    height: 14px;
  }

  td progress {
    width: 60px;
    height: 10px;
  }
}

/* -------------------------
   Print Styles
   ------------------------- */
@media print {
  .dashboard {
    max-width: 100%;
  }

  progress {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}

/* -------------------------
   Habit Completion Indicators
   ------------------------- */
/* Green checkmark for true */
td:has(> span:contains("true"))::after,
td:has(> .internal-link:contains("true"))::after {
  content: " ✓";
  color: #4caf50;
}

/* Red X for false */
td:has(> span:contains("false"))::after {
  content: " ✗";
  color: #f44336;
}

/* -------------------------
   Blockquote Callouts
   ------------------------- */
.dashboard blockquote {
  border-left: 4px solid var(--interactive-accent);
  background: var(--background-secondary);
  padding: 12px 16px;
  margin: 16px 0;
  border-radius: 0 8px 8px 0;
  font-style: italic;
}

/* -------------------------
   Code Block Styling (for queries)
   ------------------------- */
.dashboard .block-language-tasks,
.dashboard .block-language-dataview,
.dashboard .block-language-dataviewjs {
  background: var(--background-primary);
  border: 1px solid var(--background-modifier-border);
  border-radius: 8px;
  padding: 12px;
  margin: 12px 0;
}
